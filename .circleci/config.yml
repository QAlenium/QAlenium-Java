version: 2.1

orbs:
  android: circleci/android@2.0.0
  katalon-studio: katalon/katalon-studio@23.0.11

jobs:
  build:
    executor:
      name: android/android-machine
      resource-class: medium
      tag: 2022.03.1
    working_directory: ~/project
    steps:
      - checkout
      - run:
          name: Generate jar
          command: jar cf QAlenium.jar ~/project/src/main/java/br/com/qalenium/execution/Play.java
      - run:
          name: Run Tests
          command: java -cp QAlenium.jar br.com.qalenium.execution.Play
      - store_artifacts:
          path: ~/project/resources